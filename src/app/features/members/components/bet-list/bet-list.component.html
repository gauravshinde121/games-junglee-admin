<div [formGroup]="filterForm" class="tab-pane fade show active" id="pills-batlist" role="tabpanel"
  aria-labelledby="pills-batlist-tab" tabindex="0">
  <div class="row">
    <div class="col-md-4">
      <label>From Date</label>
        <input formControlName="fromDate" type="date"
         name="fromDate"
        class="form-control mt-2" id="" />
    </div>
    <div class="col-md-4">
      <label>To Date</label>
      <input formControlName="toDate" type="date"
         name="toDate"
        class="form-control mt-2" id="" />
    </div>

    <div class="col-md-4 mb-2  p-2">
      <label>Select Sport</label>
      <select formControlName="sportsId" id="ab" class="form-select bg-dgrey">
        <option value="null">All</option>
        <option *ngFor="let game of games" [value]="game.sportId">{{game.sportName}}</option>
      </select>
    </div>

    <!-- <div class="col-md-2 p-2">
      <label>Select Member</label>
      <select formControlName="memberName" id="ab" class="form-select bg-dgrey">
        <option value="null">All</option>
        <option *ngFor="let member of allMembers" [value]="member.userId">{{member.username}}</option>
      </select>
    </div> -->


    <!-- <div class="col-md-2 p-2">
      <button class="btn btn-pink rounded-pill w-100 mt-4" (click)="clearMembers()">
        <i class="fa fa-user-cog"></i> Clear Members
      </button>
    </div> -->
    <!-- <div class="col-md-3">
      <label>Highlight Ip</label>
      <input
        formControlName="highlightIp"
        type="text"
        name=""
        class="form-control mt-2"
        id=""
        placeholder="Search for ip"
      />
    </div> -->
  </div>
  <div class="row mt-3">


    <div class="col-md-4 mb-2">
      <label>Select Match</label>
      <select
        formControlName="matchId"
        id="ab"
        class="form-select bg-dgrey"
        (change)="changeMatch($event)"
      >
        <option value="null">All</option>
        <option value="{{ match.matchId }}" *ngFor="let match of matchList">
          {{ match.matchName }}
        </option>
      </select>
    </div>

    <div class="col-md-4 mb-2">
      <label>Select Market Type</label>
      <select
        formControlName="marketId"
        id="ab"
        class="form-select bg-dgrey"
        (change)="changeMarketType($event)"
      >
        <option value="null">All</option>
        <option
          value="{{ market.marketId }}"
          *ngFor="let market of marketList"
        >
          {{ market.marketName }}
        </option>
      </select>
    </div>

    <div class="col-md-4">
      <label>Stakes From</label>
      <input
        formControlName="stakesFrom"
        type="number"
        name=""
        class="form-control mt-2"
        id=""
        placeholder="Stakes From Value"
      />
    </div>
    <div class="col-md-4 mb-2">
      <label>Stakes To </label>
      <input
        formControlName="stakesTo"
        type="number"
        name=""
        class="form-control mt-2"
        id=""
        placeholder="Stakes To Value"
      />
    </div>
    <div class="col-md-4 pt-2">
      <button class="btn btn-pink rounded-pill w-100 mt-4" (click)="getMemberBets()">
        Search
      </button>
    </div>
  </div>
  <div class="row mt-4">
    <nav class="nav ps-4 col-md-12">
      <a class="nav-link active text-pink cursor-pointer" [class]="btnActive === 'current' ? 'activeLink' : ''"
       (click)="showMatch('current')">Current</a>
      <a class="nav-link cursor-pointer" [class]="btnActive === 'past' ? 'activeLink' : ''"
      (click)="showMatch('past')" >Past</a>
      <a *ngIf="!isMatch" [class]="btnActive === 'current' ? 'activeLink' : ''" 
      (click)="showMatch('match')" class="nav-link text-pink cursor-pointer">Matched</a>
      <a *ngIf="!isMatch" [class]="btnActive === 'unmatch' ? 'activeLink' : ''" 
      (click)="showMatch('unmatch')" class="nav-link cursor-pointer">Unmatched</a>
    </nav>
    <div class="col-md-12 mt-3">
      <table class="table tableall" *ngIf="betList.length > 0">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col" class="text-dark">Member</th>
            <th scope="col" class="text-dark">Placed</th>
            <th scope="col" class="text-dark">Matched Date</th>
            <th scope="col" class="text-dark">Event</th>
            <th scope="col" class="text-dark">Market</th>
            <th scope="col" class="text-dark">Selection</th>
            <th scope="col" class="text-dark">Odds Placed</th>
            <th scope="col" class="text-dark">Odds Matched</th>
            <th scope="col" class="text-dark">Matched</th>
            <th scope="col" class="text-dark">Unmatched</th>
            <th scope="col" class="text-dark">Profit Liability</th>
            <th scope="col" class="text-dark">IP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let bet of betList; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ bet.username }}</td>
            <td>{{ bet.placedDate | date : "medium" }}</td>
            <td>{{ bet.createdAt | date : "medium" }}</td>
            <td>{{ bet.event }}</td>
            <td>{{ bet.betCategory }}</td>
            <td>{{ bet.selectionName }}</td>
            <td>{{ bet.betRate }}</td>
            <td>{{ bet.betRate }}</td>
            <td>{{ bet.stake }}</td>
            <td>-</td>
            <td [ngClass]="bet.type ? 'text-success' : 'text-danger'">
              {{ bet.profitLiability }}
            </td>
            <td>{{bet.ip}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="betList.length > 0 && !this.isLoading">
      <button
        class="btn bg-dgrey rounded-pill text-white"
        [disabled]="currentPage === 1"
        (click)="prev()"
      >
        Prev
      </button>
      <span class="btn btn-pink rounded-pill text-dark ps-4 pe-4"
        >{{ currentPage / totalPages }}
      </span>
      <button
        class="btn bg-dgrey rounded-pill text-white"
        [disabled]="currentPage === totalPages"
        (click)="next()"
      >
        Next
      </button>
    </div>

    <div class="col-md-12 mt-3" *ngIf="betList.length == 0">
      <div class="border text-center p-5">
        <h4 *ngIf="betList.length == 0 && !isLoading">No data found</h4>
        <h4 *ngIf="isLoading">Loading...</h4>
      </div>
    </div>
  </div>
</div>
