<main id="main" class="main">
  <section class="section gamedetails">
    <div class="row" [formGroup]="filterForm">
      <div class="col-md-12">
        <!--your code will come here start-->
        <h4 class="text-pink">
          <img src="../../../../../assets/images/pnl.png" alt="" /> PL Statement
        </h4>
        <hr />
        <div class="row">
        <div class="col-md-6">
          <label>Select Member</label>
          <select formControlName="memberName" id="ab" class="form-select bg-dgrey">
            <option value="null">All</option>
            <option *ngFor="let member of allMembers" [value]="member.userId">{{member.username}}</option>
          </select>
        </div>
        <div class="col-md-6 mt-3">
          <button class="btn btn-outline-pink rounded-pill mt-2 w-100 mb-3" (click)="clearMemberName();">
            <i class="fa fa-user-cog"></i> Clear Members
          </button>
        </div>
      </div>
        <div class="row">

          <div class="col-md-6">
            <label>From Date</label>
            <input
              type="date"
              formControlName="fromDate"
              name="fromDate"
              class="form-control"
              id=""
              placeholder="Month"
            />
          </div>
          <div class="col-md-6">
            <label>To Date</label>
            <input
              type="date"
              formControlName="toDate"
              name="toDate"
              class="form-control"
              id=""
              placeholder="Month"
            />
          </div>
          <div class="col-md-3">
            <label>Select Sport</label>
            <select
              formControlName="sportsId"
              id="ab"
              class="form-select bg-dgrey"
            >
              <option value="null">All</option>
              <option *ngFor="let game of games" [value]="game.sportId">
                {{ game.sportName }}
              </option>
            </select>
          </div>
          <div class="col-md-3">
            <label>Select Match</label>
            <select
              formControlName="matchId"
              id="ab"
              class="form-select bg-dgrey"
            >
              <option value="null">All</option>
              <option
                value="{{ match.matchId }}"
                *ngFor="let match of matchList"
              >
                {{ match.matchName }}
              </option>
            </select>
          </div>


        <div class="col-md-3">
          <label>Select Market</label>
          <select
            formControlName="marketId"
            id="ab"
            class="form-select bg-dgrey"
          >
            <option value="null">All</option>
            <option
              value="{{ market.marketId }}"
              *ngFor="let market of marketList"
            >
              {{ market.marketName }}
            </option>
          </select>
        </div>

          <div class="col-md-3">
            <button
              type="button"
              class="btn btn-pink rounded-pill mt-4 w-100"
              (click)="getPlStatement()"
            >
              Search
            </button>
          </div>
        </div>
        <!--your code will come here end-->
      </div>
    </div>
  </section>
  <br />
  <div class="col-md-12 text-right font">
    <span>
      <img
        src="../../../../../assets/images/dollaricon.png"
        alt=""
        class="doneLoading"
      />
    </span>
    <strong> NET Total Amount</strong>&nbsp;&nbsp;
    <span class="text-danger">{{plStatement.length}}</span>
  </div>
  <br />
  <div class="col-md-12">
    <div *ngIf="plStatement.length == 0" class="border text-center p-5">
      <h4 *ngIf="plStatement.length == 0 && !isLoading">No data found</h4>
      <h4 *ngIf="isLoading">Loading...</h4>
    </div>
    <table class="table tableall" *ngIf="plStatement.length > 0">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col"><i class="fa fa-"></i> Date</th>
          <th scope="col">Game</th>
          <th scope="col">Sub Game</th>
          <th scope="col">Event</th>
          <th scope="col">Player</th>
          <th scope="col">Master</th>
          <th scope="col">Multiplier</th>
          <th scope="col">Details</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let pl of plStatement; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ pl.createDateTime | date }}</td>
          <td>{{ pl.gameData.gameName }}</td>
          <td>{{ pl.gameData.subGame }}</td>
          <td>{{ pl.gameData.eventName }}</td>
          <td>
            <div class="text">
              {{ pl.playerData.name }}
            </div>
            <div class="text-green">
              {{ pl.gameData.netAmt | number }}
              <i
                class="fa-sharp fa-solid fa-info-circle text-pink"
                role="button"
                id="dropdownMenuLink"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              ></i>
              <ul class="dropdown-menu idd" aria-labelledby="dropdownMenuLink">
                <div class="col-md-12">
                  <li class="dropdown-item ddcontent">Player-INR</li>
                </div>
                <div class="row">
                  <div class="col-md-5">
                    <li>
                      <a class="dropdown-item ddcontent" href="#"
                        >Win Amt. &nbsp; &nbsp; &nbsp;
                      </a>
                    </li>
                  </div>
                  <div class="col-md-7 text-green">100</div>
                </div>
                <li>
                  <a class="dropdown-item ddcontent" href="#"
                    >Commision% &nbsp; &nbsp; &nbsp; 4</a
                  >
                </li>
                <li>
                  <a class="dropdown-item ddcontent" href="#"
                    >Total com. &nbsp; &nbsp; &nbsp; 1
                  </a>
                </li>
                <li>
                  <a class="dropdown-item ddcontent" href="#"
                    >My Share &nbsp; &nbsp; &nbsp;1
                  </a>
                </li>
                <li>
                  <a class="dropdown-item ddcontent" href="#"
                    >My Rate &nbsp; &nbsp; &nbsp; 1
                  </a>
                </li>
                <div class="row">
                  <div class="col-md-7">
                    <li>
                      <a class="dropdown-item ddcontent" href="#"
                        >Net Amount &nbsp; &nbsp; &nbsp;
                      </a>
                    </li>
                  </div>
                  <div class="col-md-5 text-green">196</div>
                </div>
              </ul>
            </div>
          </td>
          <td>50,000</td>

          <td>1</td>
          <td>
            <i
              (click)="getOneAccount(pl)"
              class="fa-sharp fa-solid fa-eye text-pink"
              aria-hidden="true"
              data-bs-toggle="modal"
              data-bs-target="#staticBackdrop"
            ></i>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="plStatement.length > 0 && !this.isLoading">

      <button class="btn bg-dgrey rounded-pill text-white" [disabled]="currentPage === 1" (click)="prev()">Prev</button>
      <span class="btn btn-pink rounded-pill text-dark ps-4 pe-4">{{ currentPage  / totalPages}} </span>
      <button class="btn bg-dgrey rounded-pill text-white" [disabled]="currentPage === totalPages" (click)="next()">
        Next
      </button>
    </div>
  </div>
</main>

<!-- <-MODAL-> -->

<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog widthmodal">
    <div class="modal-content">
      <div class="modal-header mheader">
        <h2 class="modal-title cassino" id="staticBackdropLabel">Game info</h2>

        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body bgbody">
        <div class="col-md-12 text-white">
          <div class="row">
            <div class="col-md-6 p-4">
              <div class="row">
                <div class="col-md-12 bg-dark p-4">Game info</div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6">Game Date :</div>
                <div class="col-md-6">49.32.242.167</div>
              </div>

              <div class="row mt-3 bg-dark p-4">
                <div class="col-md-6">Player Name :</div>
                <div class="col-md-6">testjunglee</div>
              </div>

              <div class="row mt-3">
                <div class="col-md-6">Game Type:</div>
                <div class="col-md-6">Soccer</div>
              </div>
              <div class="row mt-3 bg-dark p-4">
                <div class="col-md-6">Win/Loss:</div>
                <div class="col-md-6">Lose</div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6">Win Amt:</div>
                <div class="col-md-6">-50</div>
              </div>

              <div class="row mt-3 bg-dark p-4">
                <div class="col-md-6">Commission Amt:</div>
                <div class="col-md-6">0</div>
              </div>
            </div>

            <div class="col-md-6 p-2">
              <div class="row mt-3 bg-dark p-4">
                <div class="col-md-12">Winner</div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6">Winner Name :</div>
                <div class="col-md-6">Over 0.5 Goals</div>
              </div>
              <div class="row mt-3 bg-dark p-4">
                <div class="col-md-6">Match :</div>
                <div class="col-md-6">Genoa v Cosenza</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
